
 <!DOCTYPE html>
 <html lang="en">
 <head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Document</title>
 </head>
  <style>
    *{
      margin: 0;
      padding: 0;
    }
    .title {
      font-size: 15px;
      color: #aeafb0;
      margin: 20px;
      height: 20px;
      font-family: fantasy;
    }

    #columns {
      /* padding: 20px; */
    }

    .column {
      /* width: 100%; */
      height: 50px;
      line-height: 50px;
      border: 1px solid #f5f0f0;
      box-shadow: 5px;
      cursor: move;
    }

    .column .header {
      font-size: 14px;
      color: black;
      background: #fff;
    }

    .column .icon-right {
      width: 20px;
      float: right;
      margin-top: -39px;
            margin-right: 10px;
    }


    .num-icon {
      width: 20px;
      vertical-align: middle;
      margin-right: 5px;
      margin-left: 10px;
    }
    /* .header:hover .num-icon{
      transform: translateY(-50px);
    filter: drop-shadow(#851869 0 50px);
    } */

  .column  .over {
      background-color: rgb(41, 134, 255);
    }
  </style>

<body>
  <p class="title">æ‹–åŠ¨å³è¾¹æŠŠæ‰‹æ’åº</p>
<!-- éœ€è¦æ”¹ä¸ºä½¿ç”¨ul>li -->
  <div id="columns">
    <div class="column" draggable="true">
      <div class="header"><img class="num-icon" src="./img/1-.png"><span>Aæ¨±æ¡ƒğŸ’</span></div><img id="img"
        class="icon-right" src="./img/å±•å¼€.png" />
    </div>
    <div class="column" draggable="true">
      <div class="header"><img class="num-icon" src="./img/2-.png"><span class="header">Bè‹¹æœğŸ</span></div><img id="img1"
        class="icon-right" src="./img/å±•å¼€.png" />
    </div>
    <div class="column" draggable="true">
      <div class="header"><img class="num-icon" src="./img/3-.png"><span class="header">Cé¦™è•‰ğŸŒ</span></div><img id="img2"
        class="icon-right" src="./img/å±•å¼€.png" />
    </div>
    <div class="column" draggable="true">
      <div class="header"><img class="num-icon" src="./img/4-.png"><span class="header">Dç‰›å¥¶ğŸ‚</span></div><img id="img3"
        class="icon-right" src="./img/å±•å¼€.png" />
    </div>

  </div>
</body>
<!-- <script src="http://g.tbcdn.cn/mtb/lib-flexible/0.3.2/??flexible_css.js,flexible.js"></script> -->
<script>
//è·å–æ¯ä¸€æ 
  var columns = document.querySelectorAll('#columns .column');
  var dragEl = null;
  //å¾ªç¯éå†columnList
  [].forEach.call(columns, function (column) {
    //ç”¨æˆ·å¼€å§‹æ‹–åŠ¨å…ƒç´ æ—¶è§¦å‘
    column.addEventListener("dragstart", domdrugstart, false);
    //å½“è¢«é¼ æ ‡æ‹–åŠ¨çš„å¯¹è±¡è¿›å…¥å®¹å™¨èŒƒå›´å†…æ—¶å€™è§¦å‘æ­¤äº‹ä»¶
    column.addEventListener('dragenter', domdrugenter, false);
    //å½“è¢«æ‹–åŠ¨çš„å¯¹è±¡åœ¨å¦ä¸€ä¸ªå¯¹è±¡å®¹å™¨èŒƒå›´å†…æ‹–åŠ¨æ—¶è§¦å‘æ­¤äº‹ä»¶
    column.addEventListener('dragover', domdrugover, false);
    //å½“è¢«é¼ æ ‡æ‹–åŠ¨çš„å¯¹è±¡ç¦»å¼€å…¶ä»–å®¹å™¨èŒƒå›´å†…æ—¶å€™è§¦å‘æ­¤äº‹ä»¶
    column.addEventListener('dragleave', domdrugleave, false);
    //åœ¨ä¸€ä¸ªæ‹–åŠ¨è¿‡ç¨‹ä¸­ï¼Œé‡Šæ”¾é¼ æ ‡é”®æ—¶è§¦å‘æ­¤äº‹ä»¶
    column.addEventListener('drop', domdrop, false);
    //ç”¨æˆ·å®Œæˆå…ƒç´ æ‹–åŠ¨åè§¦å‘
    column.addEventListener('dragend', domdrapend, false);
  });
//ä¸ºéœ€è¦ç§»åŠ¨çš„å…ƒç´ è®¾ç½®dragstartäº‹ä»¶
  function domdrugstart(e) {
    // e.target.style.opacity = '0.5';
    dragEl = this;
    // é™åˆ¶å…ƒç´ çš„æ‹–åŠ¨ç±»å‹ä¸ºmove
    e.dataTransfer.effectAllowed = "move";
    //å­˜æ”¾éœ€è¦ç§»åŠ¨çš„æ•°æ®
    e.dataTransfer.setData("text/html", this.innerHTML);
  }

  function domdrugenter(e) {
    //æ·»åŠ æ ·å¼
    e.target.classList.add('over');
    document.getElementById("img").src="./img/æ’åº2.png";
    // target.style.backgroundColor = '';
    // target.style.cursor = 'default'; //
  }
//é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°æ®/å…ƒç´ ä¸èƒ½åœ¨å…¶ä»–å…ƒç´ ä¸­è¢«æ‹–æ”¾ï¼Œå¯¹äºdropå¿…é¡»é˜²æ­¢å…ƒç´ çš„é»˜è®¤å¤„ç†
  function domdrugover(e) {
    if (e.preventDefault) {
      e.preventDefault();
    }
    //æ‹–æ‹½å…ƒç´ è¿›å…¥æŠ•æ”¾åŒºæ—¶ï¼Œé¼ æ ‡æ ·å¼å˜æˆmove
    e.dataTransfer.dropEffect = 'move';
    return false;
  }
//å½“å¯æ‹–æ”¾çš„å…ƒç´ ç¦»å¼€æ—¶å€™ï¼Œæ”¹å˜é¢œè‰²
  function domdrugleave(e) {
    e.target.classList.remove('over');
    // document.getElementById("img").src="./img/å±•å¼€.png";
  }

  function domdrop(e) {
    if (e.stopPropagation) {
      //ç§»é™¤é¢œè‰²
      e.target.classList.remove('over');
      //é˜»æ­¢äº‹ä»¶å†’æ³¡
      e.stopPropagation();
    }

    if (dragEl != this) {
      dragEl.innerHTML = this.innerHTML;
       //è·å–ç³»ç»Ÿè‡ªå¸¦çš„æ‹–æ‹½ä¿¡æ¯ï¼Œå¦‚æœä¸éœ€è¦æŠŠæ ·å¼ä¹Ÿæ”¾è¿›å»ï¼Œ å¯ä»¥æŠŠ text/htmlæ¢æˆtext/plain
      this.innerHTML = e.dataTransfer.getData('text/html');
    }

    return false;
  }

  function domdrapend(e) {
    [].forEach.call(columns, function (column) {
      //å®Œæˆæ‹–åŠ¨åç§»é™¤classæ ·å¼
      column.classList.remove('over');
      document.getElementById("img").src="./img/å±•å¼€.png";
    });
  }
</script>

</html>